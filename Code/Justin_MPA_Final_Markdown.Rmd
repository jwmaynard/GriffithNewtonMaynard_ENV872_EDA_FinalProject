---
title: "Final Project"
author: "Justin Maynard"
date: '`r Sys.Date()`'
output: html_document
---


```{r setup, include=FALSE}
library(here)
library(tidyverse)
library(lubridate)
library(dplyr)
library(ggplot2)
here()

#Management plan map and stuff for 2

MPA.data <- read.csv(here('DataRaw/NOAA_Marine_Protected_Areas_Inventory_2023.csv'),
                     stringsAsFactors = TRUE, 
                     colClasses = c('Year.Established' = 'factor'))

MPA.data.clean <- MPA.data %>%
  select(OBJECTID, Site.Name, State, Level.of.Protection, Management.Plan, Year.
Established, Marine.Status, Area..km2., Marine.Area..km2., Percent.Area.Marine, No.Take.Area..km2., Longitude, Latitude) %>% 
  filter(Year.Established != 0)

MPA.data.clean$Year.Established <- as.Date(MPA.data.clean$Year.Established, format = '%Y')

colnames(MPA.data.clean)[8] <- "Area"
colnames(MPA.data.clean)[9] <- "Marine.Area"
colnames(MPA.data.clean)[11] <- "No.Take.Area"
  
Clean.plot <- 
  ggplot(MPA.data.clean) +
  geom_bar(aes(x=Year.Established)) +
  scale_x_date(date_breaks = "2 years", date_labels = "%Y", limits = as.Date(c("2000-11-15", "2023-11-15"))) +
  labs(x = "Year", y = "Count")
print(Clean.plot)


NoTake <- MPA.data.clean %>% 
  filter(No.Take.Area != 0)

PartialNoTake <- NoTake %>% 
  filter(Area != No.Take.Area)

#filter(Marine.Status == Marine)?

```
